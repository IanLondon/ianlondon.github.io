<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.3"/><style data-href="/styles.e2b54b8ab9b2174b0bb5.css" data-identity="gatsby-global-css">/*
! tailwindcss v3.4.1 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.static{position:static}.relative{position:relative}.sticky{position:sticky}.top-4{top:1rem}.m-auto{margin:auto}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-bottom:.5rem;margin-top:.5rem}.my-4{margin-top:1rem}.mb-4,.my-4{margin-bottom:1rem}.mr-2{margin-right:.5rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.h-full{height:100%}.w-20{width:5rem}.w-32{width:8rem}.w-6{width:1.5rem}.w-full{width:100%}.max-w-4xl{max-width:56rem}.basis-1\/4{flex-basis:25%}.flex-col{flex-direction:column}.justify-between{justify-content:space-between}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.bg-amber-900{--tw-bg-opacity:1;background-color:rgb(120 53 15/var(--tw-bg-opacity))}.bg-amber-950{--tw-bg-opacity:1;background-color:rgb(69 26 3/var(--tw-bg-opacity))}.bg-stone-900{--tw-bg-opacity:1;background-color:rgb(28 25 23/var(--tw-bg-opacity))}.p-3{padding:.75rem}.p-4{padding:1rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-4{padding-bottom:1rem;padding-top:1rem}.pb-1{padding-bottom:.25rem}.pb-4{padding-bottom:1rem}.pb-8{padding-bottom:2rem}.pt-16{padding-top:4rem}.text-center{text-align:center}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem}.text-lg,.text-xl{line-height:1.75rem}.text-xl{font-size:1.25rem}.font-light{font-weight:300}.italic{font-style:italic}.text-amber-100{--tw-text-opacity:1;color:rgb(254 243 199/var(--tw-text-opacity))}.text-amber-500{--tw-text-opacity:1;color:rgb(245 158 11/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.markdown{font-size:.875rem;line-height:1.25rem;line-height:1.625}@media (min-width:640px){.markdown{font-size:1rem;line-height:1.5rem}}@media (min-width:1024px){.markdown{font-size:1.125rem;line-height:1.75rem}}.markdown h1{font-size:1.5rem;line-height:2rem}.markdown h1,.markdown h2{font-weight:600;margin-bottom:1.5rem;margin-top:1.5rem}.markdown h2{font-size:1.25rem;line-height:1.75rem}.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-size:1.125rem;font-weight:600;line-height:1.75rem;margin-bottom:.75rem;margin-top:.75rem}@media (min-width:640px){.markdown h1{font-size:1.875rem;line-height:2.25rem}.markdown h2{font-size:1.5rem;line-height:2rem}.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-size:1.25rem;line-height:1.75rem}}.markdown a{--tw-text-opacity:1;color:rgb(245 158 11/var(--tw-text-opacity))}.markdown a:hover{text-decoration-line:underline}.markdown p{margin-bottom:1rem}.markdown ol,.markdown ul{margin-bottom:1rem;margin-left:2rem}.markdown li>ol,.markdown li>p,.markdown li>ul{margin-bottom:0}.markdown ol{list-style-type:decimal}.markdown ul{list-style-type:disc}.markdown blockquote{--tw-border-opacity:1;--tw-bg-opacity:1;background-color:rgb(120 53 15/var(--tw-bg-opacity));border-color:rgb(251 191 36/var(--tw-border-opacity));border-left-width:4px;font-style:italic;margin-bottom:1rem;margin-left:1.5rem;margin-right:1.5rem;padding:.5rem}.markdown blockquote>p{margin-bottom:0}.markdown td,.markdown th{--tw-border-opacity:1;border-color:rgb(251 191 36/var(--tw-border-opacity));border-width:1px;padding:.25rem .5rem}.markdown tr:nth-child(odd){--tw-bg-opacity:1;background-color:rgb(146 64 14/var(--tw-bg-opacity))}.markdown table{margin-bottom:1.5rem}.markdown :not(pre)>code.language-text{white-space:pre-line}.markdown code{--tw-text-opacity:1;color:rgb(253 224 71/var(--tw-text-opacity))}.hover\:bg-amber-800:hover{--tw-bg-opacity:1;background-color:rgb(146 64 14/var(--tw-bg-opacity))}.hover\:bg-amber-900:hover{--tw-bg-opacity:1;background-color:rgb(120 53 15/var(--tw-bg-opacity))}.hover\:font-bold:hover{font-weight:700}.hover\:underline:hover{text-decoration-line:underline}@media (min-width:1024px){.lg\:m-auto{margin:auto}.lg\:w-full{width:100%}.lg\:max-w-4xl{max-width:56rem}.lg\:basis-3\/4{flex-basis:75%}.lg\:flex-row{flex-direction:row}.lg\:p-0{padding:0}.lg\:px-12{padding-left:3rem;padding-right:3rem}.lg\:pt-4{padding-top:1rem}}</style><link rel="alternate" type="application/rss+xml" title="Ian London&#x27;s Blog: RSS Feed" href="/rss.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=a3e20b7904612699ef962aa83aaa759b" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=a3e20b7904612699ef962aa83aaa759b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=a3e20b7904612699ef962aa83aaa759b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=a3e20b7904612699ef962aa83aaa759b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=a3e20b7904612699ef962aa83aaa759b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=a3e20b7904612699ef962aa83aaa759b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=a3e20b7904612699ef962aa83aaa759b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=a3e20b7904612699ef962aa83aaa759b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=a3e20b7904612699ef962aa83aaa759b"/><title data-gatsby-head="true">Ian&#x27;s Projects Blog</title></head><body class="bg-stone-900 text-amber-100 static h-full"><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained w-full"><div style="max-width:1291px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;968.0000000000001&#x27;%20width=&#x27;1291&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/c90c97eff262a8d4998abe302e31b837/39aed/splash-banner.webp 323w,/static/c90c97eff262a8d4998abe302e31b837/aa93a/splash-banner.webp 646w,/static/c90c97eff262a8d4998abe302e31b837/e84aa/splash-banner.webp 1291w" sizes="(min-width: 1291px) 1291px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1291px) 1291px, 100vw" decoding="async" loading="lazy" data-src="/static/c90c97eff262a8d4998abe302e31b837/a038c/splash-banner.jpg" data-srcset="/static/c90c97eff262a8d4998abe302e31b837/7d205/splash-banner.jpg 323w,/static/c90c97eff262a8d4998abe302e31b837/297c2/splash-banner.jpg 646w,/static/c90c97eff262a8d4998abe302e31b837/a038c/splash-banner.jpg 1291w" alt="splash image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/c90c97eff262a8d4998abe302e31b837/39aed/splash-banner.webp 323w,/static/c90c97eff262a8d4998abe302e31b837/aa93a/splash-banner.webp 646w,/static/c90c97eff262a8d4998abe302e31b837/e84aa/splash-banner.webp 1291w" sizes="(min-width: 1291px) 1291px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1291px) 1291px, 100vw" decoding="async" loading="lazy" src="/static/c90c97eff262a8d4998abe302e31b837/a038c/splash-banner.jpg" srcSet="/static/c90c97eff262a8d4998abe302e31b837/7d205/splash-banner.jpg 323w,/static/c90c97eff262a8d4998abe302e31b837/297c2/splash-banner.jpg 646w,/static/c90c97eff262a8d4998abe302e31b837/a038c/splash-banner.jpg 1291w" alt="splash image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><section class="flex flex-col lg:flex-row"><aside class="basis-1/4 lg:px-12 lg:pt-4 relative"><section class="sticky top-4 lg:p-0 p-4"><a class="block w-full" href="/"><div class="m-auto w-32 lg:w-full"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained rounded-full mb-4"><div style="max-width:1024px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;1024&#x27;%20width=&#x27;1024&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#786878;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/a3e20b7904612699ef962aa83aaa759b/22bfc/icon.webp 256w,/static/a3e20b7904612699ef962aa83aaa759b/d689f/icon.webp 512w,/static/a3e20b7904612699ef962aa83aaa759b/67ded/icon.webp 1024w" sizes="(min-width: 1024px) 1024px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1024px) 1024px, 100vw" decoding="async" loading="lazy" data-src="/static/a3e20b7904612699ef962aa83aaa759b/24f4c/icon.jpg" data-srcset="/static/a3e20b7904612699ef962aa83aaa759b/68974/icon.jpg 256w,/static/a3e20b7904612699ef962aa83aaa759b/3c367/icon.jpg 512w,/static/a3e20b7904612699ef962aa83aaa759b/24f4c/icon.jpg 1024w" alt="pixel art portrait"/></picture><noscript><picture><source type="image/webp" srcSet="/static/a3e20b7904612699ef962aa83aaa759b/22bfc/icon.webp 256w,/static/a3e20b7904612699ef962aa83aaa759b/d689f/icon.webp 512w,/static/a3e20b7904612699ef962aa83aaa759b/67ded/icon.webp 1024w" sizes="(min-width: 1024px) 1024px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1024px) 1024px, 100vw" decoding="async" loading="lazy" src="/static/a3e20b7904612699ef962aa83aaa759b/24f4c/icon.jpg" srcSet="/static/a3e20b7904612699ef962aa83aaa759b/68974/icon.jpg 256w,/static/a3e20b7904612699ef962aa83aaa759b/3c367/icon.jpg 512w,/static/a3e20b7904612699ef962aa83aaa759b/24f4c/icon.jpg 1024w" alt="pixel art portrait"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div></a><ul class="flex justify-between"><li><a class="hover:underline" href="mailto:ilondon5@proton.me">Email</a></li><li><a class="hover:underline" href="https://linkedin.com/in/ianlondon">LinkedIn</a></li><li><a class="hover:underline" href="https://github.com/IanLondon">GitHub</a></li></ul><div class="w-full my-4"><a class="mx-auto block w-20" href="/rss.xml"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained w-6 inline-block mr-2"><div style="max-width:240px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;240&#x27;%20width=&#x27;240&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8a808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/f31c8c022ea38b0755d5c9a7386d1e93/927d1/rss.webp 60w,/static/f31c8c022ea38b0755d5c9a7386d1e93/507b0/rss.webp 120w,/static/f31c8c022ea38b0755d5c9a7386d1e93/8d565/rss.webp 240w" sizes="(min-width: 240px) 240px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 240px) 240px, 100vw" decoding="async" loading="lazy" data-src="/static/f31c8c022ea38b0755d5c9a7386d1e93/87351/rss.png" data-srcset="/static/f31c8c022ea38b0755d5c9a7386d1e93/7ab40/rss.png 60w,/static/f31c8c022ea38b0755d5c9a7386d1e93/a8b52/rss.png 120w,/static/f31c8c022ea38b0755d5c9a7386d1e93/87351/rss.png 240w" alt="rss icon"/></picture><noscript><picture><source type="image/webp" srcSet="/static/f31c8c022ea38b0755d5c9a7386d1e93/927d1/rss.webp 60w,/static/f31c8c022ea38b0755d5c9a7386d1e93/507b0/rss.webp 120w,/static/f31c8c022ea38b0755d5c9a7386d1e93/8d565/rss.webp 240w" sizes="(min-width: 240px) 240px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 240px) 240px, 100vw" decoding="async" loading="lazy" src="/static/f31c8c022ea38b0755d5c9a7386d1e93/87351/rss.png" srcSet="/static/f31c8c022ea38b0755d5c9a7386d1e93/7ab40/rss.png 60w,/static/f31c8c022ea38b0755d5c9a7386d1e93/a8b52/rss.png 120w,/static/f31c8c022ea38b0755d5c9a7386d1e93/87351/rss.png 240w" alt="rss icon"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><span>RSS</span></a></div></section></aside><article class="w-full p-3 lg:basis-3/4 lg:m-auto lg:max-w-4xl"><h1 class="text-3xl">VBoW Pt 1 - Image Classification in Python with SIFT Features</h1><p class="mb-4">May 06, 2016</p><div class="markdown"><h1>Image Classification in Python with Visual Bag of Words (VBoW)</h1>
<p><a href="../how-to-sift-opencv-vbow-part-1">Part 1</a></p>
<p><a href="../how-to-sift-opencv-vbow-part-2">Part 2</a></p>
<h2>Part 1: Feature Generation with SIFT</h2>
<h3>Why we need to generate features</h3>
<p>Raw pixel data is hard to use for machine learning, and for comparing images in general.</p>
<p>A digital image in its simplest form is just a matrix of pixel intensity values. Why not flatten this matrix to an array of pixel intensities and use that as your feature set for an image classifier? For simple, curated images like the 20x20 pixel <a href="http://yann.lecun.com/exdb/mnist/">MNIST digit dataset</a>, the raw pixel method can lead to a successful machine learning model. Each image has already been centered in the frame, and all the images have the same aspect ratio and same number of pixels.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 586px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e7ef4968457f6749190fa6b47cf43d6d/a76f4/mnist-2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 100.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACSElEQVR42q2Uz0uyQRDHRfDQISgCoZAOoiRKSgehS4T+A14EPQgevHjQbkFgehQvoteE/oCSUBARD17snKCICCqVZKkpCP64aH5jFvZ5H/FHEe/AsPvsPvPZmd2ZkTQaDfR6PXQ6HXS73T8p2RLj5eUFkvf3d5DM53P8VbgtgQXg19cX21iltDedTjGbzQSA+H+ak5C3ko+Pj7UeciOxJ61WC4PBYMGGjz8CudDdRKNR2O12HB0dwev1YjgcCnY/Avm8VqshGAxCp9NBIpHg5OQEZ2dn2N7eRi6XW4piJZCPb29vOD09ZSBSo9GIZrOJVCrFvuPx+O+A/IIzmQz29/eh1+vhdrtRqVTYejgcZsCHh4ffAbmMRiM8Pj7i9fVVOIRGj8fDgPf3978H0k8cQuvZbBY3NzdMDQYDVCoVisUi26dU2pg24vxKJpOwWq3Y2trCzs4OZDIZ8+76+lqw2QjkUMqzq6sr7O7uwuVyIZ1OIxAIMKBUKoVCocDd3d3mtOGnUPk4HA7mid/vZ2ulUglarRZKpRKhUAhmsxkHBwe4uLhALBZDPp//V3ocSDKZTOB0OiGXy3F7e4tCoQCfz4fDw0PYbDY8PT0JESQSCZyfn+P4+Fh48Xa7vQikyyfP9vb2YDKZoFarWXiXl5dCZfBISPr9PqgXrLxDkmq1CovFAo1Gw8KKRCIol8tLTUB8b+JDVr4y5R9VxHg8XijFdc1jKQ/F7Uu8SXNKCdJ1bW1l+/rvDbZer+Pz85O9EC38RcmWGM/Pz/gGvG14aHD2QpcAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="handwritten number 2"
        title=""
        src="/static/e7ef4968457f6749190fa6b47cf43d6d/a76f4/mnist-2.png"
        srcset="/static/e7ef4968457f6749190fa6b47cf43d6d/12f09/mnist-2.png 148w,
/static/e7ef4968457f6749190fa6b47cf43d6d/e4a3f/mnist-2.png 295w,
/static/e7ef4968457f6749190fa6b47cf43d6d/a76f4/mnist-2.png 586w"
        sizes="(max-width: 586px) 100vw, 586px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>But what about images that are less simple and less curated?</p>
<p>Imagine taking several pictures of an object with a handheld camera. Since it's the same camera, the photos will have the same resolution and aspect ratio, so the pixel matrices will be the same size &#x26; shape.</p>
<p>Consider this stereo image (via <a href="http://www.waystation.net/">http://www.waystation.net/</a>) of an octopus:
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGF6LWE0Sv/xAAbEAACAgMBAAAAAAAAAAAAAAABAgADBBITEf/aAAgBAQABBQJql3NXNRio05p7opgRRP/EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/AYf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPwGn/8QAHRAAAQIHAAAAAAAAAAAAAAAAAAERAxATMTOBkf/aAAgBAQAGPwJEWJtjJwesWn//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhMUGBsf/aAAgBAQABPyFCZEyNIauTwDcC9CWWekXlmsQton//2gAMAwEAAgADAAAAEOwP/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/EITH/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EDK//8QAHRABAAIBBQEAAAAAAAAAAAAAAQARITFBUWGRcf/aAAgBAQABPxBD9HAdNYKjdwFcbwrgXUEz7BArZ0L5maQJ9BtAAaW6Qa9n/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="octopus stereo"
        title=""
        src="/static/a0a4eb6498665bc901fc54eb73a91b44/1c72d/StereoOctopus.jpg"
        srcset="/static/a0a4eb6498665bc901fc54eb73a91b44/a80bd/StereoOctopus.jpg 148w,
/static/a0a4eb6498665bc901fc54eb73a91b44/1c91a/StereoOctopus.jpg 295w,
/static/a0a4eb6498665bc901fc54eb73a91b44/1c72d/StereoOctopus.jpg 590w,
/static/a0a4eb6498665bc901fc54eb73a91b44/8608d/StereoOctopus.jpg 638w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span> (PS: if you cross your eyes it will look 3D)</p>
<p>Even though the two photos were taken simultaneously from locations a few inches apart, and they are very visually similar, the raw pixel locations do not match up at all. Every pixel location has been shifted and transformed in a complex way.</p>
<h4>The problem of scale</h4>
<p>Photographs of the same objects will also change scale depending on focal length, distance from object, et cetera. This is another reason that raw pixel values are typically not good features for images. You can see how zooming in on the octopus will totally throw off the pixel locations:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/66b00b07dbe6e8ea59bf2ed2a3091975/8608d/ZoomOctopus.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABTl+sqm4P/8QAGhAAAwEAAwAAAAAAAAAAAAAAAQIDABESE//aAAgBAQABBQIzHZozRFjAr5pmjyTHf//EABURAQEAAAAAAAAAAAAAAAAAAAAh/9oACAEDAQE/AYj/xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAgEBPwGq/8QAHBAAAgICAwAAAAAAAAAAAAAAAAECIRAREzEy/9oACAEBAAY/AlHko9tiblLZ1imf/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARMUEhYYH/2gAIAQEAAT8hOt21DI6RJ8hMiPJcuV6hHWZK3h7n/9oADAMBAAIAAwAAABBs3//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EIQ//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERUf/aAAgBAgEBPxCS8P/EABoQAQADAQEBAAAAAAAAAAAAAAEAETEhUYH/2gAIAQEAAT8QRFFwa/YxxgAoN9zclsogHj5kGjocrlPsRHVBN4BtVFrZpup//9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="octopus stereo"
        title=""
        src="/static/66b00b07dbe6e8ea59bf2ed2a3091975/1c72d/ZoomOctopus.jpg"
        srcset="/static/66b00b07dbe6e8ea59bf2ed2a3091975/a80bd/ZoomOctopus.jpg 148w,
/static/66b00b07dbe6e8ea59bf2ed2a3091975/1c91a/ZoomOctopus.jpg 295w,
/static/66b00b07dbe6e8ea59bf2ed2a3091975/1c72d/ZoomOctopus.jpg 590w,
/static/66b00b07dbe6e8ea59bf2ed2a3091975/8608d/ZoomOctopus.jpg 638w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h3>Generating features with SIFT: Scale-Invariant Feature Transform</h3>
<p>We want features that correspond to "parts" of images, at a more holistic level than raw pixels. We want features that are not sensitive to changes in image resolution, scale, rotation, changes in illumination (eg, position of lights). The SIFT algorithm will do this. It's going to be a little complicated, so I'll start by showing you how to do it in Python with OpenCV first, then we can go into how it works. In my <a href="../visual-bag-of-words">next post</a> I'll show you how to convert SIFT features to a format that can be passed directly into a Random Forest, SVM, or other machine learning classifier.</p>
<h4>Aside: installing OpenCV 3.1.0</h4>
<p>SIFT is a patented algorithm and isn't included in many distributions of OpenCV. Also, OpenCV's function names change drastically between versions, and old code breaks! It will save you a lot of pain if you're on the same version as me (v3.1.0) for this tutorial. And you'll need the "nonfree" modules to have SIFT.</p>
<p>After struggling for some time trying to get OpenCV to compile from source, I came across <a href="https://rivercitylabs.org/up-and-running-with-opencv3-and-python-3-anaconda-edition/">River City Labs's guide to installing OpenCV in Anaconda Python</a>. Here is the gist of it.</p>
<p>To set up a conda virtual environment called <code>opencv</code>, install Anaconda then run this in the console:</p>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">conda create -n opencv numpy scipy scikit-learn matplotlib python=2.7
source activate opencv
conda install -c https://conda.binstar.org/menpo opencv3</code>
        </deckgo-highlight-code>
<p>Enter your virtual environment with <code>source activate opencv</code> and leave it with <code>source deactivate</code>.</p>
<p>Another problem I ran into is that I run ipython in interactive mode all the time, and when you call <code>ipython</code>, it will ignore your conda env. So I added this to my <code>.bashrc</code>:</p>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code"># virtualenv-aware ipython
alias ipy=&quot;python -c &#39;import IPython; IPython.terminal.ipapp.launch_new_instance()&#39;&quot;</code>
        </deckgo-highlight-code>
<p>Make sure to restart <code>bash</code> so it will load the new <code>.bashrc</code>.</p>
<p>Now you can invoke a virtualenv-aware ipython shell with the new command <code>ipy</code>. You can also launch <code>jupyter notebook</code> while within the <code>opencv</code> env without a problem, with or without this change to <code>.bashrc</code>.</p>
<p>Phew, I hope that wasn't too bad. On to the code!</p>
<h1>Generating SIFT Features in Python OpenCV</h1>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">%matplotlib inline
import cv2
import numpy as np
import matplotlib.pyplot as plt

print &#39;OpenCV Version (should be 3.1.0, with nonfree packages installed, for this tutorial):&#39;
print cv2.__version__

# I cropped out each stereo image into its own file.
# You&#39;ll have to download the images to run this for yourself
octo_front = cv2.imread(&#39;../images/Octopus_Far_Front.jpg&#39;)
octo_offset = cv2.imread(&#39;../images/Octopus_Far_Offset.jpg&#39;)

def show_rgb_img(img):
    &quot;&quot;&quot;Convenience function to display a typical color image&quot;&quot;&quot;
    return plt.imshow(cv2.cvtColor(img, cv2.CV_32S))</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">OpenCV Version (should be 3.1.0, with nonfree packages installed, for this tutorial):
3.1.0</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">show_rgb_img(octo_front);</code>
        </deckgo-highlight-code>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 278px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7583c6bd02ee9a4de30610728295f5da/4e29d/oct_output_2_0.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 91.8918918918919%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAAFAklEQVR42l2Ue0xTZxjGz4hsRrCIoAsT0SmIFrQKiCgUGFLADqWgHfUGw3LrFLmJZAjFIjicqAMmyqUUi20RKFCtcrEjtNyKSlDaRbxlLnM3syxb/GPZztpnXxU12Zs85zznJN8v35fvfV6KelVOCxYs3uHi4raHwXBNdHBwFtjPZQjs7OYKKMpOYGfPIN+u5O0soOzsyD/q/0okSqLs7X1ssHdsj2XuXmZvLxaILD6r/cDyDYTf+mD4bwhBhP8mpG7jYEeQPzhh0eDz9iMxfh9279qHJMEBiIRZdHgIBxQ1R0yVlpba2YBV5efvKpvUaGvu/luj7Kf71QZ6QjdNK2ob6BxeNJ0XF07nxKynm8ok9LMHf9DfTf9Cf29+Tv9g/o1+/ujFX4+nfkZhdmkxxWQy3yW8D9plmm/Hb07C0DthGe67jeG+CdwaMqFIJMQGb3fsDt2IxC3rkBC+CUNaPUzjT2CeeArT2CNMjz6mf330AoNXR8QUgJdHvtzYbh66Po5O2RWLtk1LwEbIq89Aki0Cy9MdIV7uYC1dBG4YGyO9wxjt02O8fwQm40OiJ/Sz+79D264TU25ubvMIb56qudvULe/EuZJiS/OZKuivG9B0uhJ5e3lgs9bCw8UJK993QkocF/0qBbQKJRrLj6G5ohh3R+/TP878iasqAnRwcFhMgG5dir57DacqkcuPtjR+eRqDGh1qS4oQtGoFPFydsdlzCdhkl1zmEuTGsXG+JB/lSdtQtHMzrl++QpuNM1BI298eWVojNdeWlyEt2t9SnLQTBYLtSA72RYLfKoR4uoG9yh08Py8kb/GFMJQJUfhqFHLXoyg+BNXH8unmUxX4PCNFTDk5OTkTnktmYsJ0ZcFhZPCiLZ+ymciI8EFKsDcRE7sC1yDSxwNpMcE4GBmI9FBffBa5FnmxgSgWcFCRxqclybEQJcaKqYUUxSBABp8TNp3B24qMWI4lPYos5KxDNjcAWTEBEEUHQBCwEgfIznLjgpG66UNkhXkhj7sRudsCkBy4nK44nInGWpn4TWOX5heZ84UpSGD7Wz7298ZWpgdifJZCFMFCdsw6AlmGPb5uyIzww5H4UBRsD0Ra6BoIo0JRXXyCnjKY0dXaJ6bmz5/vQnjL5RcV5hvtvThXVmk5npOHk0eP4UhqBtIj/ZDJ9gI/iIWkqI+wl70R+9kBSOd+hMO8SEiEfAy03yCX8hSy8yox5enp+R4Bzqk/22iSX7iE8oJCy8mjR/BFQT4UNfU4nsJH3k4OuuUacvPD6OvQkV7txNkSCQ7ytyM1JgjH0z6hp4bvQ9HY8zZ6TdUyc1erBqdKyi3V5adxTnICWbuikBUfia9PVJB0GNHfOQhdjx6jA5Nol6ogyTkE8UEhKguz6XsjM1BJCdDR0dGV8Dykta2m/q4hdLdq/+1VD1q1ql5r8aFD1sLMdGu3vMeq6zFYb3brrTqN3koSZb2mvGa9UFll7WpRW7/RDP9jGnuC1np1yZsdqqRq89ANIwZ6DBadxkCSMo6RvlsY7b+DMaKXfuAObHk36qYwRnyHVElieBuT+gf0w8mfXl3K66qUnLncUqccu/iVdKShpmW0taFtSFp7aUJWpxxVNXUQL79FppFBKVUbmmsUtztaNEPyC21jsjqVkYBuKurVM1VldamvebaJw5j1tkZfOOuXETnOttYKIntb7me9rRbZJtWsX25b9x89WNZfqPB+oQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="png"
        title=""
        src="/static/7583c6bd02ee9a4de30610728295f5da/4e29d/oct_output_2_0.png"
        srcset="/static/7583c6bd02ee9a4de30610728295f5da/12f09/oct_output_2_0.png 148w,
/static/7583c6bd02ee9a4de30610728295f5da/4e29d/oct_output_2_0.png 278w"
        sizes="(max-width: 278px) 100vw, 278px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">show_rgb_img(octo_offset);</code>
        </deckgo-highlight-code>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 301px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/465a1e0f4a3f9c0c9971aad8d790e9d3/fb933/oct_output_3_0.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 85.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAAEvElEQVR42m2Ua0zTVxjGcRal2dgYERkqbIC1w1K5tBSsEyiggrYiOh0XUS5KKQKVmwgMEm7quEyoCFSLUC22FCyuBVqhIAiCiBLnxJllOrOLs5jt87L+939WWj6YbCd5kid5T37nfc+Tc+zsbGsNlUJlUyjUYIv/j6hUx2BHR+f/rdnqVA6F4sC1s1tFs9Kozs4bPDxob+g0P/j6BJIsv63gcsIRGbYbvOBtOLojAkd4QeCHfoZsYT6KckpQXlSJuspGxO05iFUOVGKVw2rY29v3WoHp8emuHRe6TTqVEbc0d/6ZHJojH048JSf1M2RxchyZu3cnKdrJIQv2hZIz+rvkr0//IF98+4r8ZWGRfD7/G1maV2N2clqDlRSKeom3IpAZzBrsMZrujT7CpH6OnDLMYdr4EDfkvRBwfRHA8EYsh4HdW7yQnZqK7x+8xJPZF3g8/QMWZn/EzwtviJa6K6B5M2wdZiRluPV36xcHlAPQKXXk+NA0WqrLce18I7ITD8D3k48Q5LUOdNcPkJN+DPeNUxju1eLB+Dye3HuOR1PPiFfP/kSvfMAGzBOWrldIFYstVVW43NhIDt+4hUvnzqAwOQ6VhafB+NgNn6x1hvdaJ5w4xIdB3YP26i/RkJ2IOwO3l7olfvrOhLGBaSvww7CwGHZbg+T1qSQB6k8VkKP9Y+ht60Asiw5/Tw94WWAcTzeE0TdgP4uGquPxqEnZi9N8f7RXFEKn6CPu6u9C3zdm67C2tsm1tf7CYl4SHyfjosiKtFSIYnhI3kpHLNMDEXR3hHi5YR97ExIsSuFuQmb4pyiMCcBZYTzO5gmJixWnoFForMCVGze6e4uPJpqqxEIkRQSRKdsYyIpiIjWEhvTQLUjhhYAfQMPhcDZEUYE4yvZEZsRm5AuCUXWED3GMP1ErSsblplYr8L31Li5+ybHRr3MTYpEWHUqmRnJxPNwXokgm8gTbkBMdhOORAZYD6Cg+tBPi3RxkhdKQzduMJI430iKCCZ2iH1r1sG3kktwS16riisXCY8dwKIJLCtg+2OW3ETwfD8T6eSJnlz+yeD74grkOB3zdkR4eiOxoLsR7tuIEfztUUjmxcP+lJWWtFejAYoUwlR19Jq1yCJ0XOsjqotMoz81BjSVh8eEj1m6zogKQm5CIsoxM5CXEQ3zwc2TtF0AkCEfBgR2EQdkPTbfBClzNZrN9uy5eN/UrdOiQyMhzZeWozD+JM4X5aC4vQ3H8HpwRpWJiaBYTgzNW3dHPQlrfjKK0RAj3hRGyulrLyKO2kTMzC9Z2SZW/q+U3cbWt++9zZVXmhooac3tdM5Gxf4dZuHe7ubYgnxi+MWYeUBnMQ+phYlQ7ae7rUBN1JaVE69n6v0Y0RtxUjvQs8d4NZAay1HKdyaidxPA3E6Sh/zZGtVOYMtyHXHIZ9WUVGLS8otmReUzfeoCZkYe4Z5zH3Phj9F1RwtBrIJ4/eg2t0hbKOwwGw72hRtLV2XZdLamTaqWSq5ouqUrV/FWbQSnTaPquDaqlTZ2G7ks9anm7UtPWJDOoOjWqzlaFVvq1bFB2XtZ9pUUx3lAtKV3+Du3sl8JZ9u+/5V2W7njp0GW/Yrnm8tZep2XvbJHjv3wVmnQZlHe+AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="png"
        title=""
        src="/static/465a1e0f4a3f9c0c9971aad8d790e9d3/fb933/oct_output_3_0.png"
        srcset="/static/465a1e0f4a3f9c0c9971aad8d790e9d3/12f09/oct_output_3_0.png 148w,
/static/465a1e0f4a3f9c0c9971aad8d790e9d3/e4a3f/oct_output_3_0.png 295w,
/static/465a1e0f4a3f9c0c9971aad8d790e9d3/fb933/oct_output_3_0.png 301w"
        sizes="(max-width: 301px) 100vw, 301px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h3>Generating SIFT features</h3>
<p>First, convert the images to greyscale</p>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">def to_gray(color_img):
    gray = cv2.cvtColor(color_img, cv2.COLOR_BGR2GRAY)
    return gray

octo_front_gray = to_gray(octo_front)
octo_offset_gray = to_gray(octo_offset)

plt.imshow(octo_front_gray, cmap=&#39;gray&#39;);</code>
        </deckgo-highlight-code>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 278px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7f6b0dae6c3529481a427b5e67936009/4e29d/oct_output_5_0.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 91.8918918918919%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAAEE0lEQVR42l1U10usVxDfSLyRq8ayN4IRzCWKLWJ5UR9UbNgrll1bULigWFEQwfL5YMeC+GAXe8GGig0VXcuuMfbdFSIIouKD/gMhOfl2MnPcvYEcmP3Od74zv5n5zW9WInlfFpaWlvFWVlYZpqamMhMTE7mxsbEcz7kZGRnxd3oazv5nMrRf0X4hsG/ox87OTuvo6AhooouLC7i7u4OXlxd4e3uDj48PJCYmgr+/PwQHB0NycjKkpKRAWloaZGZmQl5eHgsICACEESR1dXVGBNjW1nY9OTkJMzMzfy0vL7PNzU12enrKhoeHWXp6OpPJZCwpKYm1t7ezl5cX9vDwwB4fH9nT0xN7e3v78/7+HioqKmokbm5uHxDvx9nZ2VuVSgUHBwfi0dERHB4ewtnZGZSWloKTkxOEhYVBUFAQhIaGwt7eHmg0Gri9vYWbmxtQq9Xs9fWVzgUJAPCSJyYmtAqFAhBYXFlZIWDo7++nqODg4ABEg729PS+ZgtF3eiIYgbPn52dYW1sTJLa2th8R7+P09LRmbm4OmpqaxJ6eHtjf34fu7m7Izc3lPFpbW4ONjQ3nDymBpaUl6OjogM7OTri6uiIaYHV1VZBgV20Q0BYv3HR1dUFWVpZIQDs7O9DY2Aiurq4glUp52bT39PQE5JN/y8/Pp/sEzoiCqamp/0oeHBzUYmMgLi5OxK5BTk4O58vPzw+cnZ0BuQZfX18ICQmB8PBwiIyMhNTUVN7l+vp6RkkUFxcLEgsLCyvEk2IkdXV1NUlBpAZER0dzQDKSi4eHByQkJFBAiIiIgNjYWA5IlCAQoySys7MFSu57MoyopgvIkRgfH88dUSZcfwREoJQZlUuNiYqK4lokTgMDAxk1D6sUvgq7qqpKS5zgZZFKo4xI2DExMRyUQEjg9I665KKmTCkwNpJdXFwQl4LE3Nxcinifx8bGtNh2aG1tFSsrK0EQBCgoKOAAlBlmwcskOsgoe8q2sLAQ1tfXmVarBRwCQYKj9h0Cftvb26sZGRkB5FGsqakBMiyBg2ZkZMDCwgLs7u6SM2mVd5kaQvQUFRWxy8vL9y4bRg9FrCWnhoYGkbrd0tLCgeRyOdA76RLHEba3t0GpVJIzF31ZWRnU1tay6+vrd0AzM7NPiGeP2Wi2trZgcXHxn42NDR1Oi668vFxXUlKiw0A61KUOwfgTwXUobh3qVjc/P6/DzP+micFpq/2aIaJrKQt0EknUtKeZPj4+5hkZ9jTvJycn/Ayni4/f+fk5u7u7e2+KYTU3N08ih6q+vr7jgYEB5fj4uGJoaOgUiVaiI+1/x6CHZHh2hmOqGB0dVaHPb1jVDv5T/YEN/WLA+6DXIy0SurV+/xOamV5aP6MZ09zr97R+oH8q/f4z+f0LnmbYTTaceEYAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="png"
        title=""
        src="/static/7f6b0dae6c3529481a427b5e67936009/4e29d/oct_output_5_0.png"
        srcset="/static/7f6b0dae6c3529481a427b5e67936009/12f09/oct_output_5_0.png 148w,
/static/7f6b0dae6c3529481a427b5e67936009/4e29d/oct_output_5_0.png 278w"
        sizes="(max-width: 278px) 100vw, 278px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">def gen_sift_features(gray_img):
    sift = cv2.xfeatures2d.SIFT_create()
    # kp is the keypoints
    #
    # desc is the SIFT descriptors, they&#39;re 128-dimensional vectors
    # that we can use for our final features
    kp, desc = sift.detectAndCompute(gray_img, None)
    return kp, desc

def show_sift_features(gray_img, color_img, kp):
    return plt.imshow(cv2.drawKeypoints(gray_img, kp, color_img.copy()))

# generate SIFT keypoints and descriptors
octo_front_kp, octo_front_desc = gen_sift_features(octo_front_gray)
octo_offset_kp, octo_offset_desc = gen_sift_features(octo_offset_gray)

print &#39;Here are what our SIFT features look like for the front-view octopus image:&#39;
show_sift_features(octo_front_gray, octo_front, octo_front_kp);</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">Here are what our SIFT features look like for the front-view octopus image:</code>
        </deckgo-highlight-code>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 278px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/db8834ed226a7f563344a2091e605a0a/4e29d/oct_output_6_1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 91.8918918918919%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAAE8klEQVR42l2U/U+TVxTHOzI2o1icbHP4g+h0MbqNCCJWMTBKBVtb3lra0hZUKi86uyhYxAhFEAb4kiWOFmor7WPrkPdC11psKQUFq67qoCZTYZnzj1i2Z+13t4qa7CTfm/Pcl0/Ofc45l8F4bbGrVq3KjYuLkzGZTMmKFSuky5Ytk0ZFRUvJmjQ6OlqawEyQRuYZUYxXc/+ThKiU7PsyAnsvMqxbty64efNmEIW2bt2KxMREJCcnYXtKKnamZUJeKgeniIMMTiYKhSIUFYkgFouhkCugrDhE78nYjShGlIbR2NgYFQG2t7c/NlMULBbL3wODA7TdPkbfnp6iTWYzLZUpaIlcTAuFhXRT6zl6YWGRfvb0Kf3s+TN64fkCvfjy+V9zTx5DXaOuZ5BoPiC8tVar9cmUzwePZyLk9XgxfssL3+0ZfKc6iYwkFrLzOMjL2Y+9e3NgGxzBLf8sHjwK4OHDAAKBAP3yz5dwupwaBoBXVzb1mIIutxvXbuhDfcODcN26icudZqhOncZXWxKxhfyGjRs3IIObB5d9Al6HA+N2N/z++wj8EqAXf1+EzWbTMOLj45cT3nILZZ239Gvx/fftoRbtRYzeHIPhUifKjiuxhbUdG9eswdq1n0FUKAV1fQiGK1fQ3HoJDWcvYdo3Q7/44wWGh4c1DJK5Twkw3nqj79e2H1qhVB4JdZw/C9uIDZrmZrC27UDChi+wKzkNSdtSkJrCQom8HLXVaijLqnH4UDkGh3rp23OTMOkN766su3g1eOH8BeQWFYTKKg+ijGQ1i2Q0PT0Nu/bsxtfJO5CWng42hwseXwg+nwuRSIgShRItZ5voel0dVKpyDSM2NvYjwosrLVXM1Z+uwUGRLJSzjwMejySAkw02l4O0rAzsTt2JKkUxBLkFyOHug0CQC4mkEAeqjuHYCTVdrazAAblcQ1irmWRg7pXw58SiYij44hA/P3JQAGGREPliUm/FZcjh5ZI1GQ7Kq5DJzgSXy0ORJB9yWT4yv8miTzWcxI+GDs3bwq7TVAePqMqRwWaHWHvYSE1Lwk5WEvaTSEUFYrDZHKSwdkDAz0OxSAxZsYxEmkOuL0BTRys9ddeP3v5+DWPlypVxhLfeaDQGh0cGcb7tQuiMWo0zLXU4WlmFPJ4AHEEBAWYjl78f2ZwsZPG4KBQrIC4pwdHySgx1m+lHjx7DoNdrGJs2bfqQAN/Xa7XzPf0WnGw+F6o93opTtWpQBi2OV51AuUQFCykVm2scY7ZRWH6iUNtRi2KpAgW5eaisUNKz9+6AoizvWk+v7Q72DdjRVN8eqm3SoKmuHvIDpZBWlkF3WQcXgdnG7HA6HfBN+nC134iahm9Re6QCbXWnaf+DmdfAmJiYjyNvQ7e+e94+OoYBq+Vf2+hw2NpHhStrjoYbq1XhoZGBsONnR9jpcIQdDmfY7XGHr1PXw81NbWGrtTvsstn/CQQewmQyNbyN8BpFBd0eDxxOZ+im04lxzwQmJ92Ycjng9fqIvOR7Ej7S71PT07jj8cHQYcTA2AT89+7S8/Pz6O3t1TDeWEtLi9VgMMx2dnbe0el0M6aeHp9O132v22icMZvNvq6urvsURU1HpO/SP7D2Wn0G/dXZLq3R39ff5ybR/dbW1nb4DS/y4jCX/Eihr17yE4hilkrrc6LoSN8v+RH7JPJSLfnrI+f+A1dY02I9caUqAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="png"
        title=""
        src="/static/db8834ed226a7f563344a2091e605a0a/4e29d/oct_output_6_1.png"
        srcset="/static/db8834ed226a7f563344a2091e605a0a/12f09/oct_output_6_1.png 148w,
/static/db8834ed226a7f563344a2091e605a0a/4e29d/oct_output_6_1.png 278w"
        sizes="(max-width: 278px) 100vw, 278px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>We can also visualize how the SIFT features match up each other across the two images.</p>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code"># create a BFMatcher object which will match up the SIFT features
bf = cv2.BFMatcher(cv2.NORM_L2, crossCheck=True)

matches = bf.match(octo_front_desc, octo_offset_desc)

# Sort the matches in the order of their distance.
matches = sorted(matches, key = lambda x:x.distance)

# draw the top N matches
N_MATCHES = 100

match_img = cv2.drawMatches(
    octo_front, octo_front_kp,
    octo_offset, octo_offset_kp,
    matches[:N_MATCHES], octo_offset.copy(), flags=0)

plt.figure(figsize=(12,6))
plt.imshow(match_img);</code>
        </deckgo-highlight-code>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/43c78942ddc9edd1c6fd92a8b947df1b/394f7/oct_output_8_0.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAADBElEQVR42i3S3U9TZwDH8XM/9xeMhM0tRg3JlqiZw6KMlkIpVK0gdCjYVo6nb4cWTilUOqxAIRDLiwMLFuspFVZPH5CSlhfLi0bgbjFZMu809pY/wJfzND9PzC4+99+LL3OsuHj2ePHR9Mnvf0z9/NMxckGtJVqDmlw1VpD6+kpiMumJSlVCystKiEFfSq41aImxuZaoay+TpotNxMPxhG21St9+c2SNYRieiYUj+ex8Cq+W1wv3RyM4X82ivuU29jM7eLv3L94dvMHO32vYSKzgIL2Dl0tbsLb5oapsRW/fJA5fv8fhf3k6MzyJH4qKRGb32ea71eQ2llM7nzt7RugvpbX0t3IjnXuwSJcWN+n6sxd0O7NLo1MLNPVwmY6GZunVi1Za9N1pqquz0KWnOZpZyX36kD/EXno7xjyOzuY9wX6MPIwWjKyA0+oaXNC3gAuEYOkZQTAcwSNRAucdw53gPPiuaagbbqFU24yKKw5cF0Zhdo7S9XgWr6S0yDg7Au81DV6cqbQXTp6/gZLfTVDV8ThVw+GcsQNGNgizbQCs7S6qGz34tdaFMo0NlzQWGHQdKCvnoTP4qakpgP6ucZExXHHltXV2nDjbUjinaUdZZTs0VU7o6gRUX/Kh0RREyDcJN+vHZb0dNRUcaqp4qPROlFaxOGtwo0TXTu+NJ/BiZUNkHv8Vz/d13oXX5StYrV4033DjptmDm1YfzJZuDA2GQR4lEJuYwr0/B+Hv7kUjp1RZ3PAHgui+E8IfVoFywgBWRElkpJm5t+JwH8b6Bz7ZbR55bGhITkam5dh4WPZ2uWRvt1NOPOiXl2YH5ehUSJ6bHpdv9/rk6Mx9+c3BhmJTTkmRj/HEE+xnd2PMlpTJv87tIZfMFhITcewuZvFSeo49soWn0Xn8s/oc67EknNfNaLewENrsuGVqBddigd3MwqZwtHK0x+GFu80hMuJE1CLNLfAkluRXE6nOHFlzrCXT/HJcEjYWMo59suUKB4YFZVrn/7wKl8KhEL7OzDA2hV9R/QUbYsN0OpkD5QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="png"
        title=""
        src="/static/43c78942ddc9edd1c6fd92a8b947df1b/fcda8/oct_output_8_0.png"
        srcset="/static/43c78942ddc9edd1c6fd92a8b947df1b/12f09/oct_output_8_0.png 148w,
/static/43c78942ddc9edd1c6fd92a8b947df1b/e4a3f/oct_output_8_0.png 295w,
/static/43c78942ddc9edd1c6fd92a8b947df1b/fcda8/oct_output_8_0.png 590w,
/static/43c78942ddc9edd1c6fd92a8b947df1b/394f7/oct_output_8_0.png 707w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>Most of the matched points correspond to each other between the two images, despite perspective shift and some scaling.</p>
<h1>What is SIFT doing?</h1>
<p>I will give a very simplified, intuitive, visual description of the SIFT algorithm here.</p>
<p>For a nice overview of SIFT with pictures, see <a href="https://gilscvblog.com/2013/08/18/a-short-introduction-to-descriptors/">https://gilscvblog.com/2013/08/18/a-short-introduction-to-descriptors/</a></p>
<p>For an in-depth explanation, see <a href="http://docs.opencv.org/3.1.0/da/df5/tutorial_py_sift_intro.html">http://docs.opencv.org/3.1.0/da/df5/tutorial_py_sift_intro.html</a></p>
<p>For the deepest depth, read the original academic paper <a href="https://www.cs.ubc.ca/~lowe/papers/ijcv04.pdf">https://www.cs.ubc.ca/~lowe/papers/ijcv04.pdf</a></p>
<h2>1) Difference of Gaussians</h2>
<p>If you've messed with Photoshop or GIMP you know what a Gaussian blur is. You set the "size" of the blur in pixels -- this number is also called <code>sigma</code>. Then you get a uniformly blurred image.</p>
<p>The Difference of Gaussians (DoG) is easy to do in Photoshop/GIMP. First greyscale the image. Then duplicate the layer a few times and do a Gaussian Blur on each one with a different sigma value. Finally, set the layer blending mode to "Difference" for all the layers, and look at any 2 layers.</p>
<p>"Difference" simply subtracts the pixel intensities of corresponding pixels: <code>difference[x][y] = layer1[x][y] - layer2[x][y]</code>.</p>
<p>I did this with my stereo octopus image. Here are a few DoG results:</p>
<style>.gauss {height: 400px;}</style>
<h4>sigmas: 10, 5</h4>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <a class="gatsby-resp-image-link" href="/static/0dc3622ecb95fb3d544238b774728a14/8608d/octopus_gauss_10_5.jpg" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGfAB//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAE/IV//2gAMAwEAAgADAAAAEPPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAFhABAQEAAAAAAAAAAAAAAAAAABEB/9oACAEBAAE/EIiK3Vf/2Q=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="octopus gauss 10 5" title="" src="/static/0dc3622ecb95fb3d544238b774728a14/1c72d/octopus_gauss_10_5.jpg" srcset="/static/0dc3622ecb95fb3d544238b774728a14/a80bd/octopus_gauss_10_5.jpg 148w,
/static/0dc3622ecb95fb3d544238b774728a14/1c91a/octopus_gauss_10_5.jpg 295w,
/static/0dc3622ecb95fb3d544238b774728a14/1c72d/octopus_gauss_10_5.jpg 590w,
/static/0dc3622ecb95fb3d544238b774728a14/8608d/octopus_gauss_10_5.jpg 638w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
<h4>sigmas: 25, 5</h4>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <a class="gatsby-resp-image-link" href="/static/c9e03b453933c288cf77c69fcbc23ab7/8608d/octopus_gauss_25_5.jpg" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABwkBR/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhAAAgIDAAAAAAAAAAAAAAAAABEBMUFhcf/aAAgBAQABPyHslZFGxjGf/9oADAMBAAIAAwAAABAzD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAQUAAAAAAAAAAAAAAAEAESExQWFxgf/aAAgBAQABPxBpcj7KphSx1XNzoRW4QVYn/9k='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="octopus gauss 25 5" title="" src="/static/c9e03b453933c288cf77c69fcbc23ab7/1c72d/octopus_gauss_25_5.jpg" srcset="/static/c9e03b453933c288cf77c69fcbc23ab7/a80bd/octopus_gauss_25_5.jpg 148w,
/static/c9e03b453933c288cf77c69fcbc23ab7/1c91a/octopus_gauss_25_5.jpg 295w,
/static/c9e03b453933c288cf77c69fcbc23ab7/1c72d/octopus_gauss_25_5.jpg 590w,
/static/c9e03b453933c288cf77c69fcbc23ab7/8608d/octopus_gauss_25_5.jpg 638w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
<h4>sigmas: 25, 10</h4>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <a class="gatsby-resp-image-link" href="/static/37e07983e779dafb8ce32b4e1b21de74/8608d/octopus_gauss_25_10.jpg" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGCAD//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAABBQEAAAAAAAAAAAAAAAAAASAhMUFx/9oACAEBAAE/IeqVpDP/2gAMAwEAAgADAAAAEMDP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAQEBAAMAAAAAAAAAAAAAAQAhEUFRYf/aAAgBAQABPxB10YxiuLyt34S+yFv/2Q=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="octopus gauss 25 10" title="" src="/static/37e07983e779dafb8ce32b4e1b21de74/1c72d/octopus_gauss_25_10.jpg" srcset="/static/37e07983e779dafb8ce32b4e1b21de74/a80bd/octopus_gauss_25_10.jpg 148w,
/static/37e07983e779dafb8ce32b4e1b21de74/1c91a/octopus_gauss_25_10.jpg 295w,
/static/37e07983e779dafb8ce32b4e1b21de74/1c72d/octopus_gauss_25_10.jpg 590w,
/static/37e07983e779dafb8ce32b4e1b21de74/8608d/octopus_gauss_25_10.jpg 638w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
<h4>sigmas: 100, 25</h4>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <a class="gatsby-resp-image-link" href="/static/292f3f2ff89b46374b2cc39e1efcd0d4/8608d/octopus_gauss_100_25.jpg" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeIjSkj/xAAWEAEBAQAAAAAAAAAAAAAAAAAAESH/2gAIAQEAAQUCxjFVX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQEBAQEAAAAAAAAAAAAAABEAYRBB/9oACAEBAAE/IRZHiN8KV//aAAwDAQACAAMAAAAQ4w//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhUTFhcf/aAAgBAQABPxC0WpTO4hdnq+Itv5LHILtjZkHqaqPJ/9k='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="octopus gauss 100 25" title="" src="/static/292f3f2ff89b46374b2cc39e1efcd0d4/1c72d/octopus_gauss_100_25.jpg" srcset="/static/292f3f2ff89b46374b2cc39e1efcd0d4/a80bd/octopus_gauss_100_25.jpg 148w,
/static/292f3f2ff89b46374b2cc39e1efcd0d4/1c91a/octopus_gauss_100_25.jpg 295w,
/static/292f3f2ff89b46374b2cc39e1efcd0d4/1c72d/octopus_gauss_100_25.jpg 590w,
/static/292f3f2ff89b46374b2cc39e1efcd0d4/8608d/octopus_gauss_100_25.jpg 638w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
<p>By doing Difference of Gaussians at different scales, we can see features that appear small and large in the image. In contrast if we only looked at the 100, 25 DoG, we would lose a lot of detail. If we looked only at the 25, 5 DoG, we would miss out on larger-scale features.</p>
<p>Immediately you can see how edges are suddenly very apparent. DoG functions as an edge detector. However, <strong>we do NOT want to use edges</strong> as feature-rich areas for SIFT. We want our SIFT features to be at intrinsically interesting blobs, not edge blobs. We can start again from the original image and use an edge detector to determine edges (I used Sobel, canonical SIFT uses its own):</p>
<h4>Edge detector output</h4>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <a class="gatsby-resp-image-link" href="/static/73a5d62023d17e7b22c0d288026ba893/8608d/octopus_edge_detect.jpg" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAckhjID/xAAYEAADAQEAAAAAAAAAAAAAAAAAARICE//aAAgBAQABBQKBYZzZbLY9n//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAQEBAAAAAAAAAAAAAAAAABABMf/aAAgBAQAGPwIy0w//xAAcEAACAgIDAAAAAAAAAAAAAAABEQAhMWFBUXH/2gAIAQEAAT8hcgs2IwixCwrYEqGPe4ROgeNQhVcT/9oADAMBAAIAAwAAABADz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQADAAIDAAAAAAAAAAAAAAEAESFBUWFxsf/aAAgBAQABPxAbLyFlHt4mqN01b4qZaxq0SZgBEsfUqHIa20wwEotuveT/2Q=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="octopus edge detect" title="" src="/static/73a5d62023d17e7b22c0d288026ba893/1c72d/octopus_edge_detect.jpg" srcset="/static/73a5d62023d17e7b22c0d288026ba893/a80bd/octopus_edge_detect.jpg 148w,
/static/73a5d62023d17e7b22c0d288026ba893/1c91a/octopus_edge_detect.jpg 295w,
/static/73a5d62023d17e7b22c0d288026ba893/1c72d/octopus_edge_detect.jpg 590w,
/static/73a5d62023d17e7b22c0d288026ba893/8608d/octopus_edge_detect.jpg 638w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
<h4>Remove edges from DoG (sigma 25, 10) -- "Artist's Rendering"</h4>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <a class="gatsby-resp-image-link" href="/static/379c45eda320a646f79705faaff7ed8f/8608d/octopus_edge_removed_DoG10_5.jpg" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABwkoB/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAwADAAAAAAAAAAAAAAAAAAERQVFh/9oACAEBAAE/IZtkmWRdKUp//9oADAMBAAIAAwAAABDjD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAgMBAAAAAAAAAAAAAAEAESFBMVFhgf/aAAgBAQABPxBDyP2FGILOLeiS/RcXsJfRP//Z'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="octopus edge removed DoG10 5" title="" src="/static/379c45eda320a646f79705faaff7ed8f/1c72d/octopus_edge_removed_DoG10_5.jpg" srcset="/static/379c45eda320a646f79705faaff7ed8f/a80bd/octopus_edge_removed_DoG10_5.jpg 148w,
/static/379c45eda320a646f79705faaff7ed8f/1c91a/octopus_edge_removed_DoG10_5.jpg 295w,
/static/379c45eda320a646f79705faaff7ed8f/1c72d/octopus_edge_removed_DoG10_5.jpg 590w,
/static/379c45eda320a646f79705faaff7ed8f/8608d/octopus_edge_removed_DoG10_5.jpg 638w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
<h2>Keypoint detection</h2>
<p>Now with the edges removed, we will go over different image scales and find at which scale an interesting blob is best represented. In image classification literature, the scale of a feature is called the "octave". So for each interesting blob we save its octave, x, and y coordinates as a keypoint.</p>
<h2>Rotation normalization</h2>
<p>We want to be able to match features regardless of their orientation, so that we can match a part of an eye or tentacle no matter how the eye or tentacle is rotated. To solve this problem, SIFT features are assigned an "orientation" based on the pixel intensities of the surrounding area.</p>
<p>Essentially, you can imagine that we have some rule about orientation -- for example, we could make a rule that the direction pointing from the center of the feature to brightest region of neighboring pixels is selected as a feature's "orientation" direction. Then we turn the feature so that "orientation" (the brightest region) is pointing upwards. Now all similar features will "line up" with each other, even if they are rotated differently in the images they come from:</p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; ">
      <a class="gatsby-resp-image-link" href="/static/7753ebb1abec0113cf2c779b15f43e3a/41be6/orientation_normalization.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAC4jAAAuIwF4pT92AAADDUlEQVR42nWUy09TQRTGywKslbQqBhoRSCCwIayhCxO3hBUbEhIWiMF/wKAhSozoFsMjbIWmYHRjgqj4IgiGimgplFKkl0cLbWlLHwi9be9t7/2ce9pUMTDJ6U1nzvzOOfOdGRXYkCSJTJZlyMpXmQxuAy4LUk4zUtsWILCBtDKXFgExAeaM04ZK+UmlUhAEgUwURaTTaSDqhbS3ysAcpH0HHNOvEHOvsXkf5JAbEvM7E9jd3Y3q6moYDAbU19fDaDRml2Xs+fbxtH8Q+tJrMI0/p1kKeMYgYGtrK1QqFXQ6HfLz89Hb20uLprExXCkqgl6vxwWNBjU1NTg6OkQ0ImJ9PcIqk08HdnR0ELCsrAxXS0vxuPcRmw1jvP8JtJeKUFVZiYKCAvLp6rrDQEDPg5/weXmCJJMCnX8O2NLSQllUVFTQpoc99wHrC2B5Eq03b+OiTgu1Wo3CwkL09fXRRr8/BJ7nCaQcwQmg1WrF7Ows2cTEBDiOy5Vgs9lQXl6Ozs5OeDwemuP5OAKBIBKJBAlKp/0vUIkQi8UoYjweJ2P9w5wkUj4SiZD6gUAgJwjPx6hUBUrtls2UgCaTCSUlJairqyNh2traMlGlNPWnxWJBe3s7GhoMbJOIgwMBKys+RKNhJlKMZZlm4CQFJ+Dw8DCdnVJaXl4empqaCBiNRtHY2AgNU7i2tpZ8jMYRTE2FMfLMgWDAlSv5hMoDgwPkrFhxcTG67t4D1j4jtfAShus3WOtcpsyV9aqqalZ6CGkJcHA87M44djwC/AcilU3AocEhcj5/Tg2N+jwr7xaw9R3gZvDm/Semsg5arTYLrATn3KBsVtZ5zC3GMG0+htefuTmqWIqHw/ULr2cm8WH+I97OvcO8zYyk9PdqNTc30/mOjo6SCNR7goQlexzmJR5buwL7n1XZdbiLRb8F34I/MB9YgP3QgS/er7D6l3NAt9tNSmceksxGUZSxupGAhUHtziQ4V5LeC9WRcIzt6A6coU1w4U3s/fZiI8xBCfT/yLxI2VsuK+0mkynZidlr+AfSJ8zvUnwH6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="orientation normalization" title="" src="/static/7753ebb1abec0113cf2c779b15f43e3a/fcda8/orientation_normalization.png" srcset="/static/7753ebb1abec0113cf2c779b15f43e3a/12f09/orientation_normalization.png 148w,
/static/7753ebb1abec0113cf2c779b15f43e3a/e4a3f/orientation_normalization.png 295w,
/static/7753ebb1abec0113cf2c779b15f43e3a/fcda8/orientation_normalization.png 590w,
/static/7753ebb1abec0113cf2c779b15f43e3a/41be6/orientation_normalization.png 638w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
<h2>Keypoint descriptor generation</h2>
<p>We finally have our keypoints: x, y, and octave locations for all our points of interest, plus orientation. The keypoints are scale-invariant and rotation-invariant. We could probably take raw intensity values from each keypoint region at this point and come up with a half-decent match on similar features. However, SIFT takes it a step further by instead generating descriptors for each keypoint not with raw intensity values, but by computing the <strong>gradient</strong> of each pixel (a gradient is a vector of partial derivatives, so for a pixel its gradient describes how intensity changes as X and Y change). Then it bins the gradients into 8 directions (like N, NE, E, SE, S, SW, W, NW) and builds an 8-bin histogram.</p>
<p>One advantage of this process, called histogram of oriented gradients, is that it is very robust against changes in illumination conditions across images.</p>
<p><a href="https://gilscvblog.com/2013/08/18/a-short-introduction-to-descriptors/">Gil's CV Blog</a> has some great explanatory illustrations of this how SIFT generates its descriptors:</p>
<h3>Compute the gradient for each pixel at a given octave:</h3>
<img src="https://gilscvblog.files.wordpress.com/2013/08/figure4.jpg" class="gil">
*via Gil's CV Blog*
<h3>Divide the feature region into 16 square subregions. Bin each region into an 8-direction histogram</h3>
<img src="https://gilscvblog.files.wordpress.com/2013/08/figure5.jpg" class="gil">
*via Gil's CV Blog*
<h3>Concatenate the 16 histograms together to get the final 128-element SIFT descriptor!</h3>
<img src="https://gilscvblog.files.wordpress.com/2013/08/figure6.jpg" class="gil">
*via Gil's CV Blog*
<h4>Here's a real-life descriptor from our octopus</h4>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">octo_front_desc[0]</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">array([   1.,    0.,    0.,    0.,    0.,    0.,    0.,    1.,   65.,
          6.,    1.,    0.,    0.,    0.,    2.,   24.,  195.,    1.,
          0.,    0.,    0.,    0.,    0.,  123.,   72.,    0.,    0.,
         12.,   14.,    2.,    2.,   37.,    2.,    2.,    0.,    0.,
          0.,    0.,    1.,    1.,  141.,   12.,    0.,    0.,    0.,
          0.,    2.,   27.,  195.,   34.,    2.,    4.,    3.,    1.,
          0.,   88.,   54.,   10.,    4.,   38.,   48.,    6.,    1.,
         21.,    3.,    1.,    1.,    0.,    0.,    0.,    1.,    5.,
        139.,   19.,    4.,    1.,    0.,    0.,    2.,   12.,  195.,
         73.,    3.,    3.,    1.,    1.,    0.,    2.,   52.,   17.,
          5.,   24.,   15.,    7.,    6.,    3.,    1.,    1.,    2.,
          1.,    0.,    0.,    2.,    2.,   81.,   17.,    4.,    2.,
          0.,    0.,    4.,    6.,  195.,   81.,    0.,    0.,    0.,
          0.,    0.,    1.,   59.,   18.,    0.,    3.,   10.,    3.,
          1.,    1.], dtype=float32)</code>
        </deckgo-highlight-code>
<p>Let's inspect a keypoint object that we generated earlier.</p>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">print len(octo_front_kp), &#39;keypoints in the list&#39;
print octo_front_kp[0]</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">416 keypoints in the list
&lt;KeyPoint 0x7f7dd3ad47e0&gt;</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">def explain_keypoint(kp):
    print &#39;angle\n&#39;, kp.angle
    print &#39;\nclass_id\n&#39;, kp.class_id
    print &#39;\noctave (image scale where feature is strongest)\n&#39;, kp.octave
    print &#39;\npt (x,y)\n&#39;, kp.pt
    print &#39;\nresponse\n&#39;, kp.response
    print &#39;\nsize\n&#39;, kp.size

print &#39;this is an example of a single SIFT keypoint:\n* * *&#39;
explain_keypoint(octo_front_kp[0])</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">this is an example of a single SIFT keypoint:
* * *
angle
79.6034545898

class_id
-1

octave (image scale where feature is strongest)
12714495

pt (x,y)
(145.86351013183594, 10.573795318603516)

response
0.0161379538476

size
2.14202713966</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">print &#39;SIFT descriptors are vectors of shape&#39;, octo_front_desc[0].shape
print &#39;they look like this:&#39;
octo_front_desc[0]</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code">SIFT descriptors are vectors of shape (128,)
they look like this:





array([   1.,    0.,    0.,    0.,    0.,    0.,    0.,    1.,   65.,
          6.,    1.,    0.,    0.,    0.,    2.,   24.,  195.,    1.,
          0.,    0.,    0.,    0.,    0.,  123.,   72.,    0.,    0.,
         12.,   14.,    2.,    2.,   37.,    2.,    2.,    0.,    0.,
          0.,    0.,    1.,    1.,  141.,   12.,    0.,    0.,    0.,
          0.,    2.,   27.,  195.,   34.,    2.,    4.,    3.,    1.,
          0.,   88.,   54.,   10.,    4.,   38.,   48.,    6.,    1.,
         21.,    3.,    1.,    1.,    0.,    0.,    0.,    1.,    5.,
        139.,   19.,    4.,    1.,    0.,    0.,    2.,   12.,  195.,
         73.,    3.,    3.,    1.,    1.,    0.,    2.,   52.,   17.,
          5.,   24.,   15.,    7.,    6.,    3.,    1.,    1.,    2.,
          1.,    0.,    0.,    2.,    2.,   81.,   17.,    4.,    2.,
          0.,    0.,    4.,    6.,  195.,   81.,    0.,    0.,    0.,
          0.,    0.,    1.,   59.,   18.,    0.,    3.,   10.,    3.,
          1.,    1.], dtype=float32)</code>
        </deckgo-highlight-code>
<deckgo-highlight-code  terminal="carbon" theme="vscode"  >
          <code slot="code"># visualized another way:
plt.imshow(octo_front_desc[0].reshape(16,8), interpolation=&#39;none&#39;);</code>
        </deckgo-highlight-code>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 142px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/fdf0cdfc0fc57aab780b9a465e56150e/0d76a/oct_output_15_0.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 176.76056338028167%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAAAsSAAALEgHS3X78AAAGQElEQVR42nVWC2xTZRQ+t/e23WBbyzYeIog8ZSOdg22yhY0lPBQGBMgg4HgNgfFQwiPAcDBGS6F0L9iAwXi0YzCQaYhEHoqQMTQYHkGDmBgS4yMxmKgJiSHGXJrj99//r4wKTb6e9vb+3z3/d75z/hLJl2a9OwsGUuL4PDImZxPl5RCNzXkas7vEvJxnf5+UYxgTR7tchW7Fl9UNb8OJiluJyplok0m0gdVn4P2YuLlL3CjuixjGOh42bM50yZc+22GlOXBzWBt5msm1F4QBJs2Pm32A9wUQv+3Afc0RZ1wLezyrFWEHG1Y892WImJmKvwDhUSa9Xi3aDlQ9B3go7QYeRuwGc1raQUmYVVZmF3FI6eZwTm0b9/A0gXAfa7aAIotFlBDZkZ8nTD0aWbjiBM8oXisJc4niEQYsJa3lCBGPolkgrGEbbVMLtwJbgAqFbaxp4nqlhdu3+kawLw40pEnC9PR0S8MxRUWhOe8t4X6DNpriyZq2XS1qAA4Dx4AWoFpl6rOwMrghUndhPZeuXaA0ZKmho/NaqBs01EvOmFYVDa/K6DxwF7gP/KCIRcGCUsMRDyPGWGg4XmlIZc2WhgnLasLJ+66x4/UDplVFm09t9xDQBsAB9CFQp6q8C9jJxquXIgmZNzizwDs9xofLjhM1iuqZMgPvCzWU15Vt4EO7sR5VVj4sy8qyMpw7NjfsnVfEaf39IGxnm1atNHxRlf0yS+f5iMPVwZ7MCknIHWRp2Nmkh/gBccmbW0D4DRt6Q5eMKlXc9nwf2hnGVho2Z5GVYf04R+juQuJxngaTUh+xHh+WBCJTrRbAYi2gtulVcQe/UtYZyQh+ywWlfkmYQdQdwfO2ZrRUI2HPoBMm5TPbenwkF2p7lHV2q21COy2qbyUX3doXeYf3c1HDUtUpWbJTMvJXhCfMCXKvtMsmJf/EWtxpua0+nzENhm3euME07ismt8gcD9F2WZr2K7keGVFxnwtKVIZ4kOxlL3r5Cjyffw8aXkQvC6vsBdHPTNNxvTzCMAHIL+M6SLUaVWnZy55oL1OW9GFcdk24+9TrbLz0gWktsO2X20w9w9T/EpMHBh+NByUelN1iZQgdbZ9GHPE3UJTKqA8zhIajYCD4UNzsM+Wsiw6ACjX/yhW2qqr7lKYNmId74cNS5cMy6cO1xSPDbZvzOHt4IwjvsE0XLVYrK6v5ZOfYRJGiftypuqUdtrmIDMtjfBiCD3+FD4uOmFaD6+dYjDE5DJ43FwOqn6+A8DYIVeulxFNfEf158UevTiYevwm9HHrM9swzMkNbnSLd+d+Eedp2AodBeByEah46ccog9F1k1w8FkVpua6OZyI85bmabzEIPqq15Vads7/JZ6OmHhj5oqMaXyzXAOq0Gv1UZylp8ilPn3jKNeb+x3v+snCxaJ+L3wFXgAnBcTaADLIdJPTKsRYbLY3y49UYIo48p7xE0/B1bvaQ65BcWmsJvwI/AZTXG2hR5IwjrQLhKEXbv1ds69QZ7j+nZ51hLOWmSdhKEIoMaNaXb2Tq4LFvVK03rZcdQLQhrumRIzol460U0r1nqU2FK7/lUJavUPIzOxKgP1fii3dBw51MNe6anJ4jY3x8IpXVc5MSCz0F4kzW9VWVQowaDT5FH7VOnNGxChs1Pz+VC7rA0HN7ZHMrnrzml5AEI/2DN+FgtqI2pcpWKDUqC8LO2cTgcQxHip+WPPLJmSh6PqW4yB1/9jhNzD0sSm7+LsWMntvBmjaqyGl9xSBKh9zK73tyAcs5uLTdz+Sanztxj6abpVV08tzVmegvsAGEXH0ZPvT6rmo4O2n+Tk+fe/7v7mIem0bNFFOcJaUHE6idErYhnEUWvi2u7xGEm4j92e4AzMlZOk4TNdyxCaoQP78FvE//CTX+yzX6Kdb0C2APUA58AncARoBYIAjvYZgtGnM4AZ2ZGfVhVZRPBXbyxIHmJb11K/rH5CamBMnfPtQuSEiavcLtLFyUlFSNuQlzxrsu1tDQpadZyl2v+YpdrxjK3e/FCt3vKmqFDp7xMMS9hn9cAXfzXEfUCBqo4SLY9pUnZre/JgCiocElf+t9r9mydJq12UmEVbijEIvGfZwCiOHMmgaxdlxDfxX/KQtw3xCm/izWk/QtT4qBYUUB5UAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="png"
        title=""
        src="/static/fdf0cdfc0fc57aab780b9a465e56150e/0d76a/oct_output_15_0.png"
        srcset="/static/fdf0cdfc0fc57aab780b9a465e56150e/0d76a/oct_output_15_0.png 142w"
        sizes="(max-width: 142px) 100vw, 142px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p></div></article></section><a href="/"><p class="text-center w-full my-4 py-2 bg-amber-950 hover:bg-amber-900 hover:font-bold">Back</p></a><footer class="text-center"><div><span class="italic text-lg">That&#x27;s all folks! If you have read this far, why don&#x27;t you follow my blog&#x27;s RSS?</span><a class="block mx-auto py-4 w-20" href="/rss.xml"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained w-6 inline-block mr-2"><div style="max-width:240px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;240&#x27;%20width=&#x27;240&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8a808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/f31c8c022ea38b0755d5c9a7386d1e93/927d1/rss.webp 60w,/static/f31c8c022ea38b0755d5c9a7386d1e93/507b0/rss.webp 120w,/static/f31c8c022ea38b0755d5c9a7386d1e93/8d565/rss.webp 240w" sizes="(min-width: 240px) 240px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 240px) 240px, 100vw" decoding="async" loading="lazy" data-src="/static/f31c8c022ea38b0755d5c9a7386d1e93/87351/rss.png" data-srcset="/static/f31c8c022ea38b0755d5c9a7386d1e93/7ab40/rss.png 60w,/static/f31c8c022ea38b0755d5c9a7386d1e93/a8b52/rss.png 120w,/static/f31c8c022ea38b0755d5c9a7386d1e93/87351/rss.png 240w" alt="rss icon"/></picture><noscript><picture><source type="image/webp" srcSet="/static/f31c8c022ea38b0755d5c9a7386d1e93/927d1/rss.webp 60w,/static/f31c8c022ea38b0755d5c9a7386d1e93/507b0/rss.webp 120w,/static/f31c8c022ea38b0755d5c9a7386d1e93/8d565/rss.webp 240w" sizes="(min-width: 240px) 240px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 240px) 240px, 100vw" decoding="async" loading="lazy" src="/static/f31c8c022ea38b0755d5c9a7386d1e93/87351/rss.png" srcSet="/static/f31c8c022ea38b0755d5c9a7386d1e93/7ab40/rss.png 60w,/static/f31c8c022ea38b0755d5c9a7386d1e93/a8b52/rss.png 120w,/static/f31c8c022ea38b0755d5c9a7386d1e93/87351/rss.png 240w" alt="rss icon"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><span>RSS</span></a></div><div class="pb-8"><!-- -->2024<!-- --> Ian London</div></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/how-to-sift-opencv-vbow-part-1/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-25f52c5e9048763baf3b.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-5deb6c84cd7c9a902125.js\"],\"component---src-pages-about-tsx\":[\"/component---src-pages-about-tsx-071b38ebf1e62ab6373c.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-da75b340fb2a50761ef3.js\"],\"component---src-pages-posts-markdown-remark-frontmatter-slug-tsx\":[\"/component---src-pages-posts-markdown-remark-frontmatter-slug-tsx-797c4d69d3db40702916.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="45382e241f00beccc0d1";</script><script src="/webpack-runtime-10c37eb3f2f369845387.js" async></script><script src="/framework-39cfd3f0ffbe436ed19e.js" async></script><script src="/app-25f52c5e9048763baf3b.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>